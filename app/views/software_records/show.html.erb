<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Software Record</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
    <div class="container animated fadeIn" style="opacity: 0.9;">
        <div class="card" style="width: 90%; margin-top: 40px; height: auto; background-color: black; color: white; margin-bottom: 10rem;">
            <div class="card-header text-center">
                <h1 style="color: white; font-family: Courier New, Lucida, Console"><%= @software_record.title %></h1>
                <blockquote class="blockquote text-center">
                    <div class="blockquote-footer"><cite title="Source Title"><%= @software_record.description %></cite></div>
                </blockquote>
                <p class="text-center"><%= pills @software_record.status.title %></p>
            </div>
            <div class="card-body" style="padding-top: 1px;">
                <div class="text-center">
                    <% if user_signed_in? %>
                        <% if current_user.role.to_s == "owner" || current_user.role.to_s == "root_admin" || current_user.role.to_s == "manager" %>
                            <%= link_to 'Edit', edit_software_record_path(@software_record), class: "btn btn-warning nav-links" %>
                        <% end %>
                    <% end %>
                    <%= link_to 'Back', session[:previous], class: "btn btn-primary nav-links ms-4" %>
                </div>
                <br/>

                <ul class="nav nav-tabs" id="SoftwareRecordsTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="general-tab" data-bs-toggle="tab" href="#general" role="tab" aria-controls="general"
                            aria-selected="true">General</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="server-environment-tab" data-bs-toggle="tab" href="#server-environment" role="tab" aria-controls="server-environment"
                            aria-selected="false">Server Environment</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="change-management-tab" data-bs-toggle="tab" href="#change-management" role="tab" aria-controls="change-management"
                            aria-selected="false">Change Management</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="upgrade-history-tab" data-bs-toggle="tab" href="#upgrade-history" role="tab" aria-controls="upgrade-history"
                            aria-selected="false">Upgrade History</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="maintenance-log-tab" data-bs-toggle="tab" href="#maintenance-log" role="tab" aria-controls="maintenance-log"
                            aria-selected="false">Maintenance Log</a>
                    </li>
                </ul>

                <div class="tab-content" id="SoftwareRecordsTabContent">
                    <div class="tab-pane fade show active" id="general" role="tabpanel" aria-labelledby="general-tab">
                        <%= render 'general' %>
                    </div>
                    <div class="tab-pane fade" id="server-environment" role="tabpanel" aria-labelledby="server-environment-tab">
                        <%= render 'server_environment' %>
                    </div>
                    <div class="tab-pane fade" id="change-management" role="tabpanel" aria-labelledby="change-management-tab">
                        <%= render 'change_management' %>
                    </div>
                    <div class="tab-pane fade" id="upgrade-history" role="tabpanel" aria-labelledby="upgrade-history-tab">
                        <%= render 'upgrade_history' %>
                    </div>
                    <div class="tab-pane fade" id="maintenance-log" role="tabpanel" aria-labelledby="maintenance-log-tab">
                        <%= render 'maintenance_log' %>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>

