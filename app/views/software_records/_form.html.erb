<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Software Record</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body>
<div class="container animated fadeIn" style="opacity: 0.8">
  <div class="card-detail" style="background-color: black; width: 100%;">
    <br />
    <h1 class="<%= component %> text-center" style="color: white;">
      <% if component.eql?("new") %>New Software Record<% else %>Edit Software Record<% end %>
    </h1>
    <p style="font-size: 12px; float: right; margin-right: 30px; margin-bottom: 0px !important">
      <b style="color: red; font-size: 20px">*</b> indicates a required field
    </p>
    <br>
    <hr style="background-color: white">

    <%= form_with(model: software_record, local: true) do |form| %>
      <ul class="nav nav-tabs" id="softwareRecordTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="general-tab" data-bs-toggle="tab" href="#general" role="tab" aria-controls="general"
            aria-selected="true">General</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="server-environment-tab" data-bs-toggle="tab" href="#server-environment" role="tab" aria-controls="server-environment"
            aria-selected="false">Server Environment</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="change-management-tab" data-bs-toggle="tab" href="#change-management" role="tab" aria-controls="change-management"
            aria-selected="false">Change Management</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="upgrade-history-tab" data-bs-toggle="tab" href="#upgrade-history" role="tab" aria-controls="upgrade-history"
            aria-selected="false">Upgrade History</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="maintenance-log-tab" data-bs-toggle="tab" href="#maintenance-log" role="tab" aria-controls="maintenance-log"
            aria-selected="false">Maintenance Log</a>
        </li>
      </ul>

      <div class="card-body">
        <% if software_record.errors.any? %>
          <div id="error_explanation">
            <% software_record.errors.full_messages.each do |message| %>
              <%= alert_generator message, "error" %>
            <% end %>
          </div>
        <% end %>
        <div class="tab-content" id="softwareRecordsTabContent">
          <div class="tab-pane fade show active" id="general" role="tabpanel" aria-labelledby="general-tab">
            <%= render 'form_general', software_record: @software_record, component: component, form: form %>
          </div>

          <div class="tab-pane fade" id="server-environment" role="tabpanel" aria-labelledby="server-environment-tab">
            <%= render 'form_server_environment', software_record: @software_record, component: component, form: form %>
          </div>
          <div class="tab-pane fade" id="change-management" role="tabpanel" aria-labelledby="change-management-tab">
            <%= render 'form_change_management', software_record: @software_record, component: component, form: form %>
          </div>
          <div class="tab-pane fade" id="upgrade-history" role="tabpanel" aria-labelledby="upgrade-history-tab">
            <%= render 'form_upgrade_history', software_record: @software_record, component: component, form: form %>
          </div>
          <div class="tab-pane fade" id="maintenance-log" role="tabpanel" aria-labelledby="maintenance-log-tab">
            <%= render 'form_maintenance_log', software_record: @software_record, component: component, form: form %>
          </div>

          <div class="mb-3 <%= component %>" style="text-align: center;">
            <%= form.submit 'Save', class: "btn btn-primary" %>
            <% if component.to_s == "new" %>
              <%= link_to 'Cancel', session[:previous], class: "btn btn-danger" %>
            <% end %>
          </div>
        </div>
      </div>
    <% end %>
  </div>
</div>
<br />
<br />
<br />
</body>
</html>

